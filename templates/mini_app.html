<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ app_name }} - Web App</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: {{ primary_color }};
            --bg: {{ background_color }};
            --text: {{ text_color }};
            --secondary: #3A4A50;
            --card: #2E3A40;
            --border: #3A4A50;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title"><img src="/static/images/vent logo.png" class="logo" alt="Christian Vent Logo"> {{ app_name }}</h1>
                <p class="app-subtitle">A safe space for Christian venting</p>
            </div>
            <div class="user-section" id="userSection">
                <!-- User info will be loaded here -->
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Navigation Tabs -->
            <nav class="tab-navigation">
                <button class="tab-btn active" data-tab="feed">ğŸ“– Feed</button>
                <button class="tab-btn" data-tab="vent">âœï¸ Vent</button>
                <button class="tab-btn" data-tab="leaderboard">ğŸ† Leaderboard</button>
                <button class="tab-btn" data-tab="profile">ğŸ‘¤ Profile</button>
            </nav>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Feed Tab -->
                <div id="feed-tab" class="tab-pane active">
                    <div class="section-header">
                        <h2>Recent Vents</h2>
                        <button class="refresh-btn" id="refreshFeed">ğŸ”„ Refresh</button>
                    </div>
                    <div class="feed-container" id="feedContainer">
                        <!-- Posts will be loaded here -->
                        <div class="loading-spinner">Loading...</div>
                    </div>
                </div>

                <!-- Vent Tab -->
                <div id="vent-tab" class="tab-pane">
                    <div class="vent-form-container">
                        <h2>Share Your Burden</h2>
                        <p class="form-description">You are anonymous here. Share what's on your heart.</p>
                        
                        <div class="form-group">
                            <select id="categorySelect" class="category-select">
                                <option value="PrayForMe">ğŸ™ Pray For Me</option>
                                <option value="Bible">ğŸ“– Bible Study</option>
                                <option value="WorkLife">ğŸ’¼ Work and Life</option>
                                <option value="SpiritualLife">ğŸ•Šï¸ Spiritual Life</option>
                                <option value="ChristianChallenges">âš”ï¸ Christian Challenges</option>
                                <option value="Relationship">â¤ï¸ Relationship</option>
                                <option value="Marriage">ğŸ’ Marriage</option>
                                <option value="Youth">ğŸ‘¥ Youth</option>
                                <option value="Finance">ğŸ’° Finance</option>
                                <option value="Other" selected>ğŸ“ Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <textarea 
                                id="ventText" 
                                class="vent-textarea" 
                                placeholder="What's on your heart? (Anonymous sharing)"
                                rows="8"
                                maxlength="5000"
                            ></textarea>
                            <div class="textarea-footer">
                                <span id="charCount">0/5000</span>
                                <span class="privacy-note">Your identity is protected</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <button id="submitVent" class="submit-btn">
                                Post Anonymously
                            </button>
                            <p class="form-note">Posts are reviewed before appearing in the feed</p>
                        </div>
                    </div>
                </div>

                <!-- Leaderboard Tab -->
                <div id="leaderboard-tab" class="tab-pane">
                    <div class="section-header">
                        <h2>Top Contributors</h2>
                        <button class="refresh-btn" id="refreshLeaderboard">ğŸ”„</button>
                    </div>
                    <div class="leaderboard-container" id="leaderboardContainer">
                        <!-- Leaderboard will be loaded here -->
                        <div class="loading-spinner">Loading...</div>
                    </div>
                </div>

                <!-- Profile Tab -->
                <div id="profile-tab" class="tab-pane">
                    <div class="profile-container" id="profileContainer">
                        <!-- Profile will be loaded here -->
                        <div class="loading-spinner">Loading...</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="stats-bar" id="statsBar">
                <!-- Stats will be loaded here -->
            </div>
            <p class="footer-note">
                Connect with our community in Telegram: 
                <a href="https://t.me/{{ bot_username }}" target="_blank" class="telegram-link">
                    @{{ bot_username }}
                </a>
            </p>
        </footer>

        <!-- Modal for post details -->
        <div id="postModal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <div id="modalContent"></div>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
